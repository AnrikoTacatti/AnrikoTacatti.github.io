'use strict';

(function() {
  var catalogCart = document.querySelectorAll('.cart');
  var catalogCartSelected = document.querySelectorAll('.cart__selected');
  var cartLink = document.querySelectorAll('.cart__link');
  var cartDisabled = document.querySelector('.cart__disabled');

  for (var i = 0; i < catalogCart.length; i++) {
    catalogCart[i].addEventListener('click', onCardClick);
    catalogCart[i].addEventListener('keydown', onCardKeyDown);
    cartLink[i].addEventListener('click', cartLinkClick);
    
  }

  function cartLinkClick(evt) {
   var  element = evt.target.parentNode.parentNode.previousElementSibling;
    element.classList.toggle('cart__selected');
      
      element.onmouseleave = function() { 
      var hoverOut = element.querySelectorAll('.cart__defoult-hover');
      for (var i = 0; i < hoverOut.length; i++) {
          hoverOut[i].classList.add('cart-out');
   
      }
      
      
  }
  }
    
  function onCardClick(evt) {
    var self = evt.target;
    this.classList.toggle('cart__selected');
      if(evt.target.classList.contains('cart__selected')){



      evt.target.onmouseleave = function() { 
      var hoverOut = self.querySelectorAll('.cart__defoult-hover');
      for (var i = 0; i < hoverOut.length; i++) {
          hoverOut[i].classList.add('cart-out'); }
   
      }
      
   }
  }

  function onCardKeyDown(evt) {
    var KEY_CODE = {
      TAB: 9,
      ENTER: 13
    };

    if (evt.keyCode === KEY_CODE.TAB) return;
    if (evt.keyCode === KEY_CODE.ENTER) {
      this.classList.toggle('cart__selected');
    }
  }
})();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJtYWluLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbihmdW5jdGlvbigpIHtcclxuICB2YXIgY2F0YWxvZ0NhcnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2FydCcpO1xyXG4gIHZhciBjYXRhbG9nQ2FydFNlbGVjdGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhcnRfX3NlbGVjdGVkJyk7XHJcbiAgdmFyIGNhcnRMaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhcnRfX2xpbmsnKTtcclxuICB2YXIgY2FydERpc2FibGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcnRfX2Rpc2FibGVkJyk7XHJcblxyXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2F0YWxvZ0NhcnQubGVuZ3RoOyBpKyspIHtcclxuICAgIGNhdGFsb2dDYXJ0W2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25DYXJkQ2xpY2spO1xyXG4gICAgY2F0YWxvZ0NhcnRbaV0uYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIG9uQ2FyZEtleURvd24pO1xyXG4gICAgY2FydExpbmtbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjYXJ0TGlua0NsaWNrKTtcclxuICAgIFxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY2FydExpbmtDbGljayhldnQpIHtcclxuICAgdmFyICBlbGVtZW50ID0gZXZ0LnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUucHJldmlvdXNFbGVtZW50U2libGluZztcclxuICAgIGVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgnY2FydF9fc2VsZWN0ZWQnKTtcclxuICAgICAgXHJcbiAgICAgIGVsZW1lbnQub25tb3VzZWxlYXZlID0gZnVuY3Rpb24oKSB7IFxyXG4gICAgICB2YXIgaG92ZXJPdXQgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXJ0X19kZWZvdWx0LWhvdmVyJyk7XHJcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG92ZXJPdXQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGhvdmVyT3V0W2ldLmNsYXNzTGlzdC5hZGQoJ2NhcnQtb3V0Jyk7XHJcbiAgIFxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBcclxuICB9XHJcbiAgfVxyXG4gICAgXHJcbiAgZnVuY3Rpb24gb25DYXJkQ2xpY2soZXZ0KSB7XHJcbiAgICB2YXIgc2VsZiA9IGV2dC50YXJnZXQ7XHJcbiAgICB0aGlzLmNsYXNzTGlzdC50b2dnbGUoJ2NhcnRfX3NlbGVjdGVkJyk7XHJcbiAgICAgIGlmKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjYXJ0X19zZWxlY3RlZCcpKXtcclxuXHJcblxyXG5cclxuICAgICAgZXZ0LnRhcmdldC5vbm1vdXNlbGVhdmUgPSBmdW5jdGlvbigpIHsgXHJcbiAgICAgIHZhciBob3Zlck91dCA9IHNlbGYucXVlcnlTZWxlY3RvckFsbCgnLmNhcnRfX2RlZm91bHQtaG92ZXInKTtcclxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBob3Zlck91dC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgaG92ZXJPdXRbaV0uY2xhc3NMaXN0LmFkZCgnY2FydC1vdXQnKTsgfVxyXG4gICBcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gb25DYXJkS2V5RG93bihldnQpIHtcclxuICAgIHZhciBLRVlfQ09ERSA9IHtcclxuICAgICAgVEFCOiA5LFxyXG4gICAgICBFTlRFUjogMTNcclxuICAgIH07XHJcblxyXG4gICAgaWYgKGV2dC5rZXlDb2RlID09PSBLRVlfQ09ERS5UQUIpIHJldHVybjtcclxuICAgIGlmIChldnQua2V5Q29kZSA9PT0gS0VZX0NPREUuRU5URVIpIHtcclxuICAgICAgdGhpcy5jbGFzc0xpc3QudG9nZ2xlKCdjYXJ0X19zZWxlY3RlZCcpO1xyXG4gICAgfVxyXG4gIH1cclxufSkoKTsiXX0=
